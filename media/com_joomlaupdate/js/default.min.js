function extractionMethodHandler(b,a){jQuery(function(c){$em=c(b);displayStyle=($em.val()==="direct")?"none":"table-row";document.getElementById(a+"_hostname").style.display=displayStyle;document.getElementById(a+"_port").style.display=displayStyle;document.getElementById(a+"_username").style.display=displayStyle;document.getElementById(a+"_password").style.display=displayStyle;document.getElementById(a+"_directory").style.display=displayStyle})}(function(f,a,e){var d={};var b=false;var c=false;d.config={serverUrl:"index.php?option=com_joomlaupdate&task=update.fetchextensioncompatibility",selector:".extension-check"};d.STATE={INCOMPATIBLE:0,COMPATIBLE:1,MISSING_COMPATIBILITY_TAG:2,SERVER_ERROR:3};d.run=function(){f('#preupdateconfirmation input[type="checkbox"]').on("change",function(){if(f('#preupdateconfirmation input[type="checkbox"]').is(":checked")){f("button.submitupdate").removeClass("disabled");f("button.submitupdate").prop("disabled",false)}else{f("button.submitupdate").addClass("disabled");f("button.submitupdate").prop("disabled",true)}});d.nonCoreCriticalPlugins=Object.values(JSON.parse(nonCoreCriticalPlugins));d.joomlaTargetVersion=e.joomlaTargetVersion;d.joomlaCurrentVersion=e.joomlaCurrentVersion;f(".compatibilitytypes img").css("height","20px");f(".compatibilitytypes").css("display","none").css("margin-left",0);f("#compatibilitytype0").css("display","block");f(".compatibilitytoggle").css("float","right").css("cursor","pointer");f(".compatibilitytoggle").on("click",function(h,i){var j=f(this).closest("fieldset.compatibilitytypes");if(f(this).data("state")=="closed"){f(this).data("state","open");f(this).html(COM_JOOMLAUPDATE_VIEW_DEFAULT_SHOW_LESS_EXTENSION_COMPATIBILITY_INFORMATION);j.find(".exname").removeClass("span8").addClass("span4");j.find(".extype").removeClass("span4").addClass("span2");j.find(".upcomp").removeClass("hidden").addClass("span2");j.find(".currcomp").removeClass("hidden").addClass("span2");j.find(".instver").removeClass("hidden").addClass("span2");if(d.showyellowwarning){j.find("#updateyellowwarning").removeClass("hidden")}if(d.showorangewarning){j.find("#updateorangewarning").removeClass("hidden")}}else{f(this).data("state","closed");f(this).html(COM_JOOMLAUPDATE_VIEW_DEFAULT_SHOW_MORE_EXTENSION_COMPATIBILITY_INFORMATION);j.find(".exname").addClass("span8").removeClass("span4");j.find(".extype").addClass("span4").removeClass("span2");j.find(".upcomp").addClass("hidden").removeClass("span2");j.find(".currcomp").addClass("hidden").removeClass("span2");j.find(".instver").addClass("hidden").removeClass("span2");j.find("#updateyellowwarning").addClass("hidden");j.find("#updateorangewarning").addClass("hidden")}});var g=f(d.config.selector);g.each(function(){d.checkCompatibility(f(this),d.setResultView)})};d.checkCompatibility=function(g,i){var h={$element:g,compatibleVersion:0,serverError:1};f.getJSON(d.config.serverUrl,{"joomla-target-version":d.joomlaTargetVersion,"joomla-current-version":d.joomlaCurrentVersion,"extension-version":g.data("extension-current-version"),"extension-id":g.data("extensionId")}).done(function(j){h.serverError=0;h.compatibilityData=j.data}).always(function(j){i(h)})};d.setResultView=function(k){var g="";if(k.serverError){g=Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_SERVER_ERROR")}else{switch(k.compatibilityData.upgradeCompatibilityStatus.state){case d.STATE.COMPATIBLE:if(k.compatibilityData.upgradeWarning){g='<span class="label label-warning">'+k.compatibilityData.upgradeCompatibilityStatus.compatibleVersion+"</span>";d.showyellowwarning=true}else{g=k.compatibilityData.upgradeCompatibilityStatus.compatibleVersion==false?Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION"):k.compatibilityData.upgradeCompatibilityStatus.compatibleVersion}break;case d.STATE.INCOMPATIBLE:g=Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION");d.showorangewarning=true;break;case d.STATE.MISSING_COMPATIBILITY_TAG:g=Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION");d.showorangewarning=true;break;default:g=Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")}}k.$element.html(g);g="";if(k.serverError){g=Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_SERVER_ERROR")}else{switch(k.compatibilityData.currentCompatibilityStatus.state){case d.STATE.COMPATIBLE:g=k.compatibilityData.currentCompatibilityStatus.compatibleVersion==false?Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION"):k.compatibilityData.currentCompatibilityStatus.compatibleVersion;break;case d.STATE.INCOMPATIBLE:g=Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION");break;case d.STATE.MISSING_COMPATIBILITY_TAG:g=Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_NO_COMPATIBILITY_INFORMATION");break;default:g=Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")}}var j=k.$element.data("extensionId");a.getElementById("available-version-"+j).innerHTML=g;k.$element.closest("tr").appendTo(f("#compatibilitytype"+k.compatibilityData.resultGroup+" tbody"));f("#compatibilitytype"+k.compatibilityData.resultGroup).css("display","block");a.getElementById("compatibilitytype0").style.display="block";if(k.compatibilityData.resultGroup===3){for(var h in d.nonCoreCriticalPlugins){if(d.nonCoreCriticalPlugins[h].package_id==j||d.nonCoreCriticalPlugins[h].extension_id==j){f("#plg_"+d.nonCoreCriticalPlugins[h].extension_id).remove();d.nonCoreCriticalPlugins.splice(h,1)}}}if(f("#compatibilitytype0 tbody td").length==0){f("#compatibilitytype0").css("display","none");for(var h in d.nonCoreCriticalPlugins){var i=f("td[data-extension-id="+d.nonCoreCriticalPlugins[h].extension_id+"]");if(!i.length){i=f("td[data-extension-id="+d.nonCoreCriticalPlugins[h].package_id+"]")}if(i.length){i.closest("tr").addClass("error")}}if(d.nonCoreCriticalPlugins.length==0){f("#preupdateCheckWarning, #preupdateconfirmation").css("display","none");f('#preupdateconfirmation input[type="checkbox"]').prop("checked",true);f("button.submitupdate").removeClass("disabled");f("button.submitupdate").prop("disabled",false)}else{f("#preupdateCheckWarning").addClass("hidden");f("#preupdateCheckCompleteProblems").removeClass("hidden")}}};f(d.run)})(jQuery,document,window);